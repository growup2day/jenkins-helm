JCasC:
  openshiftClouds:
    openshift_non_prod:
      serverUrl: "https://api.cs1-dev.nz.service.test:6443"
      credentialsId: "cs1-dev-openshift"

  configScripts:
    k8s-clouds: |
      jenkins:
        clouds:
          - kubernetes:
              name: "openshift_non_prod"
              credentialsId: "cs1-dev-openshift"
              serverUrl: "https://api.cs1-dev.nz.service.test:6443"
              jenkinsUrl: "https://{{ include "jenkins.routeHost" $ }}"
              jenkinsTunnel: "{{ include "jenkins.jnlpServiceName" $ }}.{{ $.Release.Namespace }}.svc.cluster.local:{{ include "jenkins.jnlpPort" $ }}"
              namespace: "wis-ci"
              templates:
                - containers:
                    - alwaysPullImage: true
                      image: "docker-ose-platform-local.artifactory-staging.nz.service.anz/jenkins-ocp-anz/ose-jenkins-agent-maven:20230623"
                      name: "jnlp"
                      args: "^${computer.jnlpmac} ^${computer.name}"
                      command: "/usr/local/bin/run-jnlp-client"
                      workingDir: "/home/jenkins/agent"
                      resourceLimitCpu: "2"
                      resourceLimitMemory: 4Gi
                      resourceRequestCpu: 300m
                      resourceRequestMemory: 500Mi
                      envVars:
                        - envVar:                     
                            key: "JAVA_HOME"
                            value: "/usr/lib/jvm/java-1.8.0"
                        - envVar:
                            key: "MAVEN_SKIP_RC"
                            value: "true"
                        - envVar:
                            key: "TZ"
                            value: "Pacific/Auckland"
                        - envVar:
                            key: "JAVA_TOOL_OPTIONS"
                            value: "-Xmx2048m -Dfile.encoding=UTF-8 -Duser.language=en -Duser.country=NZ"
                      livenessProbe:
                        failureThreshold: 0
                        initialDelaySeconds: 0
                        periodSeconds: 0
                        successThreshold: 0
                        timeoutSeconds: 0
                  label: "maven"
                  name: "maven"
                  yamlMergeStrategy: "override"
                  envVars:
                    - envVar:
                        key: "JAVA_HOME"
                        value: "/usr/lib/jvm/java-1.8.0"
                    - envVar:
                        key: "MAVEN_SKIP_RC"
                        value: "true"
                    - envVar:
                        key: "TZ"
                        value: "Pacific/Auckland"
                    - envVar:
                        key: "JAVA_TOOL_OPTIONS"
                        value: "-Xmx2048m -Dfile.encoding=UTF-8 -Duser.language=en -Duser.country=NZ"
              webSocket: false
